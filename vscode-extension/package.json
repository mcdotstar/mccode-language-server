{
  "name": "mccode",
  "displayName": "McCode",
  "description": "McCode DSL support for McStas and McXtrace (.instr and .comp files)",
  "version": "0.3.9",
  "publisher": "mcdotstar",
  "license": "BSD-3-Clause",
  "engines": { "vscode": "^1.75.0" },
  "categories": ["Programming Languages", "Linters"],
  "repository": {
    "type": "git",
    "url": "https://github.com/mcdotstar/mccode-language-server"
  },
  "activationEvents": [
    "onLanguage:mccode"
  ],
  "main": "./extension.js",
  "contributes": {
    "languages": [
      {
        "id": "mccode",
        "aliases": ["McCode", "McStas", "McXtrace"],
        "extensions": [".instr", ".comp"],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "mccode",
        "scopeName": "source.mccode",
        "path": "./syntaxes/mccode.tmLanguage.json",
        "embeddedLanguages": {
          "source.c": "c"
        }
      }
    ],
    "configuration": {
      "title": "McCode",
      "properties": {
        "mccode.serverPath": {
          "type": "string",
          "default": "",
          "description": "Path to the mclsp executable or Python interpreter to run mclsp with. Leave empty to auto-discover (checks PATH then pip-installs mclsp if needed). Examples: '/home/user/.venv/bin/mclsp' or '/usr/bin/python3'."
        },
        "mccode.pythonPath": {
          "type": "string",
          "default": "",
          "description": "Python interpreter used to run 'python -m mclsp --stdio'. Overrides auto-discovery of Python. Useful when the VS Code Python extension is not installed or selects the wrong interpreter."
        },
        "mccode.flavor": {
          "type": "string",
          "enum": ["auto", "mcstas", "mcxtrace"],
          "default": "auto",
          "description": "McCode flavor to use for component lookups and hover information. 'auto' infers from component names and file paths."
        },
        "mccode.logLevel": {
          "type": "string",
          "enum": ["warning", "info", "debug", "error"],
          "enumDescriptions": [
            "Only warnings and errors (default)",
            "Informational messages",
            "Verbose debug output",
            "Errors only"
          ],
          "default": "warning",
          "description": "Log level for the McCode language server output channel."
        }
      }
    },
    "commands": [
      {
        "command": "mccode.showVirtualC",
        "title": "McCode: Show Virtual C Document",
        "category": "McCode"
      },
      {
        "command": "mccode.reinstallServer",
        "title": "McCode: Reinstall language server (mclsp)",
        "category": "McCode"
      }
    ]
  },
  "dependencies": {
    "vscode-languageclient": "^9.0.0"
  },
  "devDependencies": {
    "@types/vscode": "^1.75.0"
  }
}
